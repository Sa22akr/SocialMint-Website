{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>My Cart</title>

<link rel="stylesheet" href="{% static 'cart.css' %}">
</head>

<body>

<header class="cart-header">
  <h2>üõí My Shopping Cart</h2>
  <a href="{% url 'marketplace' %}" class="back-btn">‚Üê Continue Shopping</a>
</header>


<div class="cart-wrapper">

  <div class="cart-items">

  {% for p in products %}
    <div class="cart-item">

      {% if p.images.first %}
        <img src="{{ p.images.first.image.url }}">
      {% elif p.image %}
        <img src="{{ p.image.url }}">
      {% else %}
        <img src="{% static 'img/no-image.png' %}">
      {% endif %}

      <div class="info">
        <h3>{{ p.title }}</h3>
        <p class="seller">Sold by {{ p.seller.username }}</p>
        <div class="price">¬£{{ p.price }}</div>
      </div>

      <a href="{% url 'remove_from_cart' p.id %}" class="remove">
        Remove
      </a>

    </div>
  {% empty %}
    <p>Your cart is empty.</p>
  {% endfor %}

  </div>


  {% if products %}
  <div class="summary">
    <h3>Order Summary</h3>

    <div class="sum-row">
      <span>Items</span>
      <span>{{ products|length }}</span>
    </div>

    <div class="sum-row total">
      <span>Total</span>
      <span>¬£{{ total }}</span>
    </div>

    <button class="checkout-btn">Checkout</button>
  </div>
  {% endif %}

</div>

<script src="{% static 'cart.js' %}"></script>
</body>
</html>
