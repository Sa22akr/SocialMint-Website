{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SocialMint Dashboard</title>

    <link rel="stylesheet" href="{% static 'dashboard.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>

<!-- ====================== HEADER ====================== -->
<header class="topbar">

    <div class="logo">
    <a href="{% url 'dashboard' %}">
        <img src="{% static 'img/logo.png' %}" alt="Logo">
    </a>
</div>


    <div class="search-bar">
        <i class="fa fa-search"></i>
        <input type="text" placeholder="Search Products/Services">
    </div>

    <nav class="main-nav">

        <a href="{% url 'dashboard' %}"><i class="fa fa-home"></i> Home</a>
        <a href="#"><i class="fa fa-coins"></i> Earn</a>
        <a href="#"><i class="fa fa-bullhorn"></i> Advertise</a>
        <a href="{% url 'marketplace' %}"><i class="fa fa-store"></i> Market</a>

        <!-- â­ REPLACED DROPDOWN WITH NORMAL LINK -->
        <a href="{% url 'more_page' %}">
            <i class="fa fa-ellipsis-h"></i> More
        </a>

        <!-- Notification + Profile -->
        <div class="top-icons">
            <div class="notification">
                <i class="fa fa-bell"></i>
                <span class="badge">99+</span>
            </div>

            <div class="profile-dropdown">
                <img src="{% static 'img/avatar.png' %}" class="profile-avatar">
                <i class="fa fa-caret-down"></i>

                <div class="profile-menu">
                    <a href="#"><i class="fa fa-user"></i> My Profile</a>
                    <a href="#"><i class="fa fa-bell"></i> Notifications</a>
                    <a href="#"><i class="fa fa-wallet"></i> Wallet</a>
                    <a href="{% url 'more_page' %}">
                        <i class="fa fa-ellipsis-h"></i> Settings
                    </a>
                    <a href="#" class="logout">
                        <i class="fa fa-power-off"></i> Logout
                    </a>
                </div>
            </div>
        </div>

    </nav>

</header>



<!-- ====================== PAGE WRAPPER ====================== -->
<div class="dashboard-container">

    <!-- ========== SIDEBAR ========== -->
    <aside class="sidebar">
        <div class="user-card">
            <img src="{% static 'img/avatar.png' %}" class="avatar-big">

            <h2 id="usernameDisplay"></h2>
            <p id="usernameTag"></p>

            <div class="follow-box">
                <span><strong id="followers">0</strong> Followers</span>
                <span><strong id="following">0</strong> Following</span>
            </div>
        </div>

        <div class="side-feature">
            <p>Earn daily by posting adverts & completing tasks on social media</p>
        </div>

        <div class="side-feature">
            <p>Get people to repost & share your adverts</p>
        </div>

        <div class="side-feature">
            <p>Advertise anything in the marketplace</p>
        </div>

        <div class="side-feature">
            <p>Refer friends and earn up to Â£5 when they register and complete their first task</p>
        </div>
    </aside>


    <!-- ========== MAIN CONTENT ========== -->
    <main class="main-area">

        <!-- ==== BALANCE CARD ==== -->
        <section class="balance-section">
            <p class="welcome-text">Welcome, <strong><span id="usernameDynamic"></span></strong> ðŸ‘‹</p>

            <div class="balance-card">
                <h3>My Balance</h3>
                <h1 id="balanceAmount">Â£0.00</h1>

                <div class="balance-btns">
                    <button class="fund">FUND</button>
                    <button class="withdraw">WITHDRAW</button>
                </div>

                <div class="balance-stats">
                    <div>
                        <p>Total Earnings</p>
                        <h4 id="earningsTotal">Â£0.00</h4>
                    </div>
                    <div>
                        <p>Pending Balance</p>
                        <h4>Â£0.00</h4>
                    </div>
                    <div>
                        <p>Amount Spent</p>
                        <h4>Â£0.00</h4>
                    </div>
                </div>
            </div>
        </section>

        <!-- ==== AVAILABLE TASKS ==== -->
        <section class="tasks-section">

            <h2>Available Tasks</h2>
            <p>Select any task to start earning</p>

            <div class="task-list" id="taskList">
                <!-- tasks load here dynamically -->
            </div>

        </section>

    </main>


    <!-- ========== RIGHT PANEL ========== -->
    <aside class="right-panel">

        <h3>Recent Activities</h3>
        <p class="sub">See what people are doing on SocialMint</p>

        <div class="activity">
            <img src="{% static 'img/facebook.png' %}">
            <p><strong>@cashkid233</strong> just earned Â£1</p>
        </div>

        <div class="activity">
            <img src="{% static 'img/instagram.png' %}">
            <p><strong>@zeso</strong> just earned Â£0.50</p>
        </div>

        <div class="activity">
            <img src="{% static 'img/twitter.png' %}">
            <p><strong>@collins21</strong> just earned Â£0.50</p>
        </div>

        <a href="#" class="view-more">View More</a>

    </aside>

</div>

<!-- =====================================================
     EARN POPUP MODAL â€” SAME LAYOUT AS AD MODAL
===================================================== -->
<div class="ad-modal-bg" id="earnModal">
  <div class="ad-modal">

    <button class="ad-close" id="earnClose">âœ–</button>

    <h2 class="ad-title">How do you want to earn today?</h2>

    <div class="ad-options">

      <!-- CARD 1 -->
      <div class="ad-card">
        <h3>Perform Social Tasks and Earn Daily</h3>

        <div class="ad-icons">
          <p>
            <img src="{% static 'img/facebook.png' %}">
            <img src="{% static 'img/instagram.png' %}">
          </p>
          <img src="{% static 'img/whatsapp.png' %}">
          <img src="{% static 'img/twitter.png' %}">
        </div>

        <p>
          Earn daily by posting adverts and completing
          social tasks across your social media accounts.
        </p>

        <button class="ad-btn" onclick="window.location.href='{% url 'dashboard' %}'">
  GET STARTED
</button>
      </div>

      <!-- CARD 2 -->
      <div class="ad-card">
        <h3>Resell Products and Earn Commissions</h3>

        <img class="ad-img" src="{% static 'img/money.png' %}">

        <p>
          Resell products from sellers and brands and
          earn up to Â£1,000 monthly in commissions.
        </p>

       <button class="ad-btn" onclick="window.location.href='{% url 'marketplace' %}'">
  GET STARTED
</button>

      </div>

    </div>

  </div>
</div>



<!-- =====================================================
     ADVERTISE POPUP MODAL
===================================================== -->
<div class="ad-modal-bg" id="adModal">
  <div class="ad-modal">

    <button class="ad-close" id="adClose">âœ–</button>

    <h2 class="ad-title">Choose your advert package below:</h2>

    <div class="ad-options">

      <!-- ==========================
           CARD 1 â€“ SOCIALMINT MARKET
      =========================== -->
      <div class="ad-card">
        <h3>Advertise on SocialMint Market</h3>

        <img class="ad-img" src="{% static 'img/market.png' %}">

        <p>
          Take massive advantage of the huge traffic
          on SocialMint and advertise your products/services
          directly to thousands of buyers on SocialMint Market.
        </p>

        <button class="ad-btn" onclick="window.location.href='{% url 'marketplace' %}'">
  GET STARTED
</button>

      </div>


      <!-- ==========================
           CARD 2 â€“ SOCIAL MEDIA ADS
      =========================== -->
      <div class="ad-card">
        <h3>Advertise On Social Media</h3>

        <div class="ad-icons">
          <p>
            <img src="{% static 'img/facebook.png' %}">
            <img src="{% static 'img/instagram.png' %}">
          </p>
          <img src="{% static 'img/whatsapp.png' %}">
          <img src="{% static 'img/twitter.png' %}">
        </div>

        <p>
          Get people with at least 1000 active followers
          to repost your adverts and perform social tasks
          for you on their social media accounts.
        </p>

        <button class="ad-btn" onclick="window.location.href='{% url 'dashboard' %}'">
  GET STARTED
</button>
      </div>

    </div>

  </div>
</div>

<!-- ======================
     FUND POPUP MODAL
====================== -->
<div class="modal-bg" id="fundModal">
  <div class="modal-card">
    <button class="modal-close" id="fundClose">âœ–</button>

    <h2 class="modal-title">Fund Wallet</h2>
    <p class="modal-sub">Enter how much you want to fund.</p>

    <input
      type="number"
      id="fundAmountInput"
      class="modal-input"
      placeholder="e.g. 50"
      min="1"
      step="0.01"
    />

    <button class="modal-action" id="fundSubmitBtn">Fund Wallet</button>

    <p class="modal-msg" id="fundMsg"></p>
  </div>
</div>

<!-- ======================
     WITHDRAW POPUP MODAL
====================== -->
<div class="modal-bg" id="withdrawModal">
  <div class="modal-card">
    <button class="modal-close" id="withdrawClose">âœ–</button>

    <h2 class="modal-title">Withdraw</h2>
    <p class="modal-sub">Enter your bank details (demo) and amount.</p>

    <input
      type="number"
      id="withdrawAmountInput"
      class="modal-input"
      placeholder="Amount (e.g. 20)"
      min="1"
      step="0.01"
    />

    <input
      type="text"
      id="sortCodeInput"
      class="modal-input"
      placeholder="Sort code (e.g. 12-34-56)"
      maxlength="8"
    />

    <input
      type="text"
      id="accountNumberInput"
      class="modal-input"
      placeholder="Account number (8 digits)"
      maxlength="8"
    />

    <button class="modal-action" id="withdrawSubmitBtn">Withdraw</button>

    <p class="modal-msg" id="withdrawMsg"></p>
  </div>
</div>


<div class="modal-bg" id="taskModal">
  <div class="modal-box">
    <button onclick="taskModal.style.display='none'">âœ–</button>

    <h2 id="taskTitle"></h2>
    <p id="taskInstructions"></p>

    <a id="taskLink" target="_blank" style="display:none;">Open Task</a>

    <h3 id="taskReward"></h3>
  </div>
</div>
</div>


<!-- ====================== JS ====================== -->
<script src="{% static 'dashboard.js' %}"></script>

</body>
</html>